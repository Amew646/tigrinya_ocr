# Install dhSegment, VGG Image Annotator and other segmentation related programs.

# dhSegment, Res-Net based segmentator. Does classification in postprocessing.
git clone https://github.com/dhlab-epfl/dhSegment.git
cd dhSegment
vi setup.py
# change all == to >=
sudo pip3 install numpy==1.15.4
sudo pip3 install .
cd pretrained_models/
sudo python3 download_resnet_pretrained_model.py

cd ../demo
wget https://github.com/dhlab-epfl/dhSegment/releases/download/v0.2/model.zip
unzip model.zip
cd ..
sudo python3 demo.py 
cd ..

sudo apt-get update
sudo apt-get install libreoffice

mkdir train
mkdir eval_1
python3 ../../tigrinya_ocr/scripts/crawler.py
python3 ../../tigrinya_ocr/scripts/crawler.py train/ 100
cd train
sh ../../tigrinya_ocr/scripts/mv_every_x.sh ../eval_1/ 10
cd ..
mkdir masks
python3 ../../tigrinya_ocr/scripts/convert_via.py

# configure train_config.json
# 6GB RAM at least needed for gpu training
https://github.com/dhlab-epfl/dhSegment/blob/master/demo/demo_config.json

# classes.txt
0 0 0
255 0 0


